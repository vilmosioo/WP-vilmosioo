/*! VilmosIoo - v1.3.12 */"use strict";!function(a,b){var c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var a,c,d=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=0,f=d.length,g={};f>e;e++)if(a=d[e],a&&a[1]in b){for(e=0,c=a.length;c>e;e++)g[d[0][e]]=a[e];return g}return!1}(),e={request:function(a){var e=d.requestFullscreen;a=a||b.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[e]():a[e](c&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){b[d.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:d};return d?(Object.defineProperties(e,{isFullscreen:{get:function(){return!!b[d.fullscreenElement]}},element:{enumerable:!0,get:function(){return b[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!b[d.fullscreenEnabled]}}}),b.addEventListener(d.fullscreenchange,function(a){e.onchange.call(e,a)}),b.addEventListener(d.fullscreenerror,function(a){e.onerror.call(e,a)}),void(a.screenfull=e)):void(a.screenfull=!1)}(window,document);var VI_GOL=function(a,b,c){var d,e,f,g,h,i,j,k={},l=125,m=Math.floor(666*l/1e3),n=!1,o=1e3,p=Math.floor(666*o/1e3),q=new Array(l*m),r=new Array(l*m),s=function(){d=document.getElementById("canvas-gol"),i=d.getContext("2d"),o=Math.min(o,c.body.clientWidth-20),p=Math.floor(666*o/1e3),d.width=o,d.height=p,d.style.width=o+"px",d.style.height=p+"px",j={Glidergun:"........................Ox......................O.Ox............OO......OO............OOx...........O...O....OO............OOxOO........O.....O...OOxOO........O...O.OO....O.Ox..........O.....O.......Ox...........O...Ox............OO",Ship:"...Ox.O...OxOxO....OxOOOOO",Glider:".Ox..OxOOO",Noah:"..........O.Ox.........Ox..........O..Ox............OOOxxxxxx.OxO.OxxO..Ox..OOx...O",Space:"...........OO.....OOOOx.........OO.OO...O...Ox.........OOOO........Ox..........OO.....O..Oxx........Ox.......OO........OOx......O.........O..Ox.......OOOOO....O..Ox........OOOO...OO.OOx...........O....OOxxxx..................OOOOxO..O.............O...Ox....O................OxO...O............O..Ox.OOOO",Pentomino:".OOxOOx.O"}},t=function(){e=a('<select class="form-control"></select>').width("300px");for(var c in j)j.hasOwnProperty(c)&&e.append(a('<option value="'+j[c]+'">'+c+"</option>"));f=a('<button class="active btn btn-primary">Pause</button>'),g=a('<button class="btn btn-primary">Save image</button>'),h=a('<button class="btn btn-primary">Full screen</button>');var i=a("<p></p>").append(f).append("&nbsp;").append(g);b.enabled&&i.append("&nbsp;").append(h),a(d).before(i),a(d).before(a("<p></p>").append(e))},u=function(){window.location=d.toDataURL("image/png")},v=function(){f.text(n?"Run":"Pause"),f.toggleClass("active",!n),n=!n},w=function(){g.click(u),f.click(v),b.enabled&&h.click(function(){b.request()}),e.change(function(){H(e.val())})},x=function(){var a=i.createRadialGradient(o/2,o/2,100,o/2,o/2,o);a.addColorStop(0,"#666"),a.addColorStop(1,"#000");for(var b=0;l>b;b++)for(var c=0;m>c;c++){var d=Math.floor(o/l),e=Math.floor(p/m);i.fillStyle="#aaa",i.fillRect(b*d,c*e,d,e),i.globalAlpha=.1,i.beginPath(),i.strokeStyle="#666",i.lineWidth=1,i.moveTo(b*d,c*e),i.lineTo(b*d+d,c*e),i.lineTo(b*d+d,c*e+e),i.lineTo(b*d,c*e+e),i.lineTo(b*d,c*e),i.stroke(),i.globalAlpha=1}},y=function(a,b){return 1===q[a*l+b]},z=function(a,b){return q[a*l+b]>=2},A=function(a,b){return q[a*l+b]},B=function(a,b,c){r[a*l+b]=c},C=function(a,b){return r[a*l+b]!==q[a*l+b]},D=function(a,b){var c=Math.floor(o/l),d=Math.floor(p/m);C(a,b)&&(i.fillStyle=1===r[a*l+b]?"#fff":r[a*l+b]>=2?"rgba(65,180,255,"+.75*r[a*l+b]/10+")":"#000",i.fillRect(a*c,b*d,c,d),q[a*l+b]=r[a*l+b])},E=function(a,b){var c=0;return y(a,b-1)&&c++,y(a,b+1)&&c++,y(a-1,b-1)&&c++,y(a-1,b)&&c++,y(a-1,b+1)&&c++,y(a+1,b-1)&&c++,y(a+1,b)&&c++,y(a+1,b+1)&&c++,0===a&&(y(l-1,b-1)&&c++,y(l-1,b)&&c++,y(l-1,b+1)&&c++),a===l-1&&(y(0,b-1)&&c++,y(0,b)&&c++,y(0,b+1)&&c++),b===m-1&&(y(a,0)&&c++,y(a-1,0)&&c++,y(a+1,0)&&c++),0===b&&(y(a,m-1)&&c++,y(a-1,m-1)&&c++,y(a+1,m-1)&&c++),c},F=function(a){for(var b=l/5,c=0,d=0,e=0;c<a.length;){var f=a.charAt(c++);"O"===f&&B(b+e,b+d,1),"x"===f&&(e=-1,d++),e++}},G=function(){if(n){var a=0,b=0;for(a=0;l>a;a++)for(b=0;m>b;b++){var c=E(a,b);y(a,b)?1>=c?B(a,b,2):c>=4&&B(a,b,2):3===c?B(a,b,1):z(a,b)&&(A(a,b)>=10?B(a,b,0):B(a,b,A(a,b)+1))}for(a=0;l>a;a++)for(b=0;m>b;b++)D(a,b)}window.requestAnimationFrame(G)},H=function(a){i.clearRect(0,0,o,p),q.length=0,r.length=0,x(),F(a),window.requestAnimationFrame(G)};return k.load=function(){s(),t(),w(),v(),H(j.Glidergun)},k}(jQuery,screenfull,document);jQuery(VI_GOL.load);