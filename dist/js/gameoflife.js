/*! VilmosIoo - v1.3.12 */"use strict";var VI_GOL=function(a,b){var c,d,e,f,g,h,i={},j=125,k=Math.floor(666*j/1e3),l=!1,m=1e3,n=Math.floor(666*m/1e3),o=new Array(j*k),p=new Array(j*k),q=function(){c=document.getElementById("canvas-gol"),g=c.getContext("2d"),m=Math.min(m,b.body.clientWidth-20),n=Math.floor(666*m/1e3),c.width=m,c.height=n,c.style.width=m+"px",c.style.height=n+"px",h={Glidergun:"........................Ox......................O.Ox............OO......OO............OOx...........O...O....OO............OOxOO........O.....O...OOxOO........O...O.OO....O.Ox..........O.....O.......Ox...........O...Ox............OO",Ship:"...Ox.O...OxOxO....OxOOOOO",Glider:".Ox..OxOOO",Noah:"..........O.Ox.........Ox..........O..Ox............OOOxxxxxx.OxO.OxxO..Ox..OOx...O",Space:"...........OO.....OOOOx.........OO.OO...O...Ox.........OOOO........Ox..........OO.....O..Oxx........Ox.......OO........OOx......O.........O..Ox.......OOOOO....O..Ox........OOOO...OO.OOx...........O....OOxxxx..................OOOOxO..O.............O...Ox....O................OxO...O............O..Ox.OOOO",Pentomino:".OOxOOx.O"}},r=function(){d=a('<select class="form-control"></select>').width("300px");for(var b in h)h.hasOwnProperty(b)&&d.append(a('<option value="'+h[b]+'">'+b+"</option>"));e=a('<button class="active btn btn-primary">Pause</button>'),f=a('<button class="btn btn-primary">Save image</button>'),a(c).before(a("<p></p>").append(e).append("&nbsp;").append(f)),a(c).before(a("<p></p>").append(d))},s=function(){window.location=c.toDataURL("image/png")},t=function(){e.text(l?"Run":"Pause"),e.toggleClass("active",!l),l=!l},u=function(){f.click(s),e.click(t),d.change(function(){F(d.val())})},v=function(){var a=g.createRadialGradient(m/2,m/2,100,m/2,m/2,m);a.addColorStop(0,"#666"),a.addColorStop(1,"#000");for(var b=0;j>b;b++)for(var c=0;k>c;c++){var d=Math.floor(m/j),e=Math.floor(n/k);g.fillStyle="#aaa",g.fillRect(b*d,c*e,d,e),g.globalAlpha=.1,g.beginPath(),g.strokeStyle="#666",g.lineWidth=1,g.moveTo(b*d,c*e),g.lineTo(b*d+d,c*e),g.lineTo(b*d+d,c*e+e),g.lineTo(b*d,c*e+e),g.lineTo(b*d,c*e),g.stroke(),g.globalAlpha=1}},w=function(a,b){return 1===o[a*j+b]},x=function(a,b){return o[a*j+b]>=2},y=function(a,b){return o[a*j+b]},z=function(a,b,c){p[a*j+b]=c},A=function(a,b){return p[a*j+b]!==o[a*j+b]},B=function(a,b){var c=Math.floor(m/j),d=Math.floor(n/k);A(a,b)&&(g.fillStyle=1===p[a*j+b]?"#fff":p[a*j+b]>=2?"rgba(65,180,255,"+.75*p[a*j+b]/10+")":"#000",g.fillRect(a*c,b*d,c,d),o[a*j+b]=p[a*j+b])},C=function(a,b){var c=0;return w(a,b-1)&&c++,w(a,b+1)&&c++,w(a-1,b-1)&&c++,w(a-1,b)&&c++,w(a-1,b+1)&&c++,w(a+1,b-1)&&c++,w(a+1,b)&&c++,w(a+1,b+1)&&c++,0===a&&(w(j-1,b-1)&&c++,w(j-1,b)&&c++,w(j-1,b+1)&&c++),a===j-1&&(w(0,b-1)&&c++,w(0,b)&&c++,w(0,b+1)&&c++),b===k-1&&(w(a,0)&&c++,w(a-1,0)&&c++,w(a+1,0)&&c++),0===b&&(w(a,k-1)&&c++,w(a-1,k-1)&&c++,w(a+1,k-1)&&c++),c},D=function(a){for(var b=j/5,c=0,d=0,e=0;c<a.length;){var f=a.charAt(c++);"O"===f&&z(b+e,b+d,1),"x"===f&&(e=-1,d++),e++}},E=function(){if(l){var a=0,b=0;for(a=0;j>a;a++)for(b=0;k>b;b++){var c=C(a,b);w(a,b)?1>=c?z(a,b,2):c>=4&&z(a,b,2):3===c?z(a,b,1):x(a,b)&&(y(a,b)>=10?z(a,b,0):z(a,b,y(a,b)+1))}for(a=0;j>a;a++)for(b=0;k>b;b++)B(a,b)}window.requestAnimationFrame(E)},F=function(a){g.clearRect(0,0,m,n),o.length=0,p.length=0,v(),D(a),window.requestAnimationFrame(E)};return i.load=function(){q(),r(),u(),t(),F(h.Glidergun)},i}(jQuery,document);jQuery(VI_GOL.load);